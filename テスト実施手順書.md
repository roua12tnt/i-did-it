# I did it! アプリケーション テスト実施手順書

## 1. テスト概要

### 1.1 目的
I did it! アプリケーションのβ版リリース前に、全機能が正常に動作することを確認する。

### 1.2 テスト対象
- **対象**: I did it! Webアプリケーション
- **バージョン**: β版
- **環境**: 本番環境（Vercel）
- **ブラウザ**: Chrome, Firefox, Safari, Edge（モバイル含む）

### 1.3 テスト実施者
- 開発者（基本テスト）
- β版テスター（友達・知人）

## 2. テスト準備

### 2.1 テスト用アカウント準備
以下のテスト用アカウントを事前に作成：
```
テスト用メール: test1@example.com
パスワード: TestPass123!

テスト用メール: test2@example.com  
パスワード: TestPass123!
```

### 2.2 テスト用データ
以下のサンプルDoを事前に作成：
- "朝のストレッチ10分"
- "1日1冊本を読む"
- "夜10時までに就寝"

## 3. 機能別テスト手順

### 3.1 認証機能テスト

#### 3.1.1 ユーザー登録テスト
**手順**:
1. アプリにアクセス
2. 「新規登録」をクリック
3. 有効なメールアドレスとパスワードを入力
4. 「登録」ボタンをクリック

**期待結果**:
- ✅ 登録が成功する
- ✅ 自動的にログインされる
- ✅ メイン画面に遷移する
- ✅ プロフィールが自動作成される

**テストケース**:
- [ ] 正常な登録（新規メール）
- [ ] 重複メールでの登録（エラー表示確認）
- [ ] 無効なメール形式（バリデーション確認）
- [ ] 弱いパスワード（バリデーション確認）

#### 3.1.2 ログインテスト
**手順**:
1. ログアウト状態からアプリにアクセス
2. 「ログイン」をクリック
3. 登録済みメールアドレスとパスワードを入力
4. 「ログイン」ボタンをクリック

**期待結果**:
- ✅ ログインが成功する
- ✅ メイン画面に遷移する
- ✅ ユーザーのデータが表示される

**テストケース**:
- [ ] 正しい認証情報でのログイン
- [ ] 間違ったパスワード（エラー表示確認）
- [ ] 存在しないメールアドレス（エラー表示確認）

#### 3.1.3 ログアウトテスト
**手順**:
1. ログイン状態で「設定」タブをクリック
2. 「ログアウト」ボタンをクリック

**期待結果**:
- ✅ ログアウトが成功する
- ✅ ログイン画面に戻る
- ✅ 再アクセス時に認証が求められる

#### 3.1.4 セッション管理テスト
**手順**:
1. ログイン状態で長時間放置（1時間以上）
2. アプリを操作してセッション切れを確認
3. 自動ログアウト動作を確認

**期待結果**:
- ✅ セッション切れ時に自動ログアウトされる
- ✅ ログイン画面に自動リダイレクトされる
- ✅ 適切なエラーメッセージが表示される
- ✅ 再ログイン後に正常動作する

**テストケース**:
- [ ] セッション切れ時の自動ログアウト
- [ ] API呼び出し時のセッションエラーハンドリング
- [ ] 画面操作中のセッション切れ対応

### 3.2 Do管理機能テスト

#### 3.2.1 Do作成テスト
**手順**:
1. 「Do管理」タブをクリック
2. 「新しいDoを追加」をクリック
3. タイトルに「朝のストレッチ10分」を入力
4. 説明に「毎朝10分間のストレッチを行う」を入力
5. 「追加」ボタンをクリック

**期待結果**:
- ✅ Doが正常に作成される
- ✅ Do一覧に表示される
- ✅ 作成日時が記録される

**テストケース**:
- [ ] タイトルのみでDo作成
- [ ] タイトル + 説明でDo作成
- [ ] 空のタイトル（エラー表示確認）
- [ ] 4つ目のDo作成（制限エラー確認）

#### 3.2.2 Do編集テスト
**手順**:
1. 作成済みDoの「編集」ボタンをクリック
2. タイトルを「朝のストレッチ15分」に変更
3. 「保存」ボタンをクリック

**期待結果**:
- ✅ Doが正常に更新される
- ✅ 変更内容が反映される
- ✅ 更新日時が記録される

#### 3.2.3 Do削除テスト
**手順**:
1. 削除対象Doの「削除」ボタンをクリック
2. 確認ダイアログで「削除」を選択

**期待結果**:
- ✅ Doが正常に削除される
- ✅ 関連する達成記録も削除される
- ✅ Do一覧から除去される

### 3.3 カレンダー機能テスト

#### 3.3.1 カレンダー表示テスト
**手順**:
1. 「カレンダー」タブをクリック
2. 現在の月のカレンダーを確認

**期待結果**:
- ✅ 月間カレンダーが表示される
- ✅ 日本語フォーマット（yyyy年MM月）
- ✅ 今日の日付がハイライトされる
- ✅ 達成記録がある日に黄色い星が表示される

**テストケース**:
- [ ] 現在月の表示
- [ ] 前月・次月ナビゲーション
- [ ] 「今日」ボタンのクリック
- [ ] 異なる月での表示確認

#### 3.3.2 日付選択テスト
**手順**:
1. カレンダーで任意の日付をクリック
2. 達成記録管理画面の表示を確認

**期待結果**:
- ✅ 日付選択画面が表示される
- ✅ 選択した日付が表示される
- ✅ 登録済みDoの一覧が表示される
- ✅ 達成状況が正しく表示される

### 3.4 達成記録機能テスト

#### 3.4.1 達成記録テスト
**手順**:
1. カレンダーで今日の日付をクリック
2. 未達成のDoをクリックして達成状態にする
3. 確認モーダルまたは直接祝福モーダルの表示を確認

**期待結果**:
- ✅ 70%の確率で直接達成、30%の確率で確認モーダル表示
- ✅ Doが達成状態になる
- ✅ 黄色い星アイコンが表示される
- ✅ 祝福モーダルが表示される
- ✅ カレンダーに星マークが表示される

**テストケース**:
- [ ] 初回達成記録
- [ ] 複数Do同時達成
- [ ] 3つ以上のDo達成（+表示確認）
- [ ] 達成記録の取り消し
- [ ] ランダム確認モーダルの動作
- [ ] 確認モーダルでの「本当！」選択
- [ ] 確認モーダルでの「あとで」選択（キャンセル）

#### 3.4.1a 確認モーダルテスト
**手順**:
1. 星マークをクリックして確認モーダルが表示されるまで試行
2. 「ほんとに？」モーダルの表示を確認
3. 「本当！」ボタンをクリック
4. 祝福モーダルの表示を確認

**期待結果**:
- ✅ 確認モーダルが正しく表示される
- ✅ Doタイトルと日付が表示される
- ✅ 「本当！」ボタンで達成記録される
- ✅ その後祝福モーダルが表示される

**キャンセルテスト手順**:
1. 確認モーダルで「あとで」ボタンをクリック
2. 達成状態が変わらないことを確認

**期待結果**:
- ✅ 達成記録されない
- ✅ 星マークが元の状態のまま
- ✅ モーダルが閉じる

#### 3.4.2 達成記録削除テスト
**手順**:
1. 達成済みDoをクリック
2. 削除確認ダイアログで「削除」を選択

**期待結果**:
- ✅ 削除確認ダイアログが表示される
- ✅ 「この達成記録を削除しますか？」メッセージが表示される
- ✅ 達成記録が削除される
- ✅ 星アイコンが点線アイコンに変わる
- ✅ カレンダーの星マークが更新される
- ✅ メモも一緒に削除される

**キャンセルテスト手順**:
1. 達成済みDoをクリック
2. 削除確認ダイアログで「キャンセル」を選択

**期待結果**:
- ✅ 達成記録が削除されない
- ✅ 星アイコンがそのまま
- ✅ ダイアログが閉じる

#### 3.4.3 達成メモ機能テスト
**手順**:
1. 新しいDoを達成する
2. 祝福モーダルでメモ入力欄にテキストを入力（例: "今日は特に頑張れた"）
3. 「どうも！」ボタンをクリック
4. カレンダー下のDoリストでメモ表示を確認

**期待結果**:
- ✅ メモ入力欄が表示される（200文字制限）
- ✅ 文字数カウンターが表示される（例: 15/200）
- ✅ メモが保存される
- ✅ カレンダー下のDoリストでメモが表示される
- ✅ Do.descriptionの代わりにachievements.memoが表示される

**メモなしテスト手順**:
1. 新しいDoを達成する
2. 祝福モーダルでメモを入力せずに「どうも！」ボタンをクリック
3. 達成記録が保存されることを確認

**期待結果**:
- ✅ メモなしでも達成記録が保存される
- ✅ カレンダー下のDoリストでメモ欄は空欄表示
- ✅ 星マークが正常に表示される

**文字数制限テスト手順**:
1. メモ入力欄に200文字を超えるテキストを入力
2. 文字数制限の動作を確認

**期待結果**:
- ✅ 200文字で入力が制限される
- ✅ 文字数カウンターが200/200で止まる

### 3.5 祝福機能テスト

#### 3.5.1 祝福モーダル表示テスト
**手順**:
1. 新しいDoを達成する
2. 祝福モーダルの表示を確認

**期待結果**:
- ✅ "You DID it!"メッセージが表示される
- ✅ 達成したDoタイトルが表示される
- ✅ 達成日が表示される
- ✅ ランダムな祝福メッセージが表示される
- ✅ メモ入力欄が表示される（「今日の達成メモ」ラベル付き）
- ✅ アニメーション効果が動作する

**テストケース**:
- [ ] 祝福モーダルの表示
- [ ] 異なる祝福メッセージ（複数回テスト）
- [ ] アニメーション効果の確認
- [ ] メモ入力欄の表示確認
- [ ] 「どうも！」ボタンでの閉じる動作

#### 3.5.2 SNS共有テスト
**手順**:
1. 祝福モーダルでTwitter/X共有ボタンをクリック
2. 共有内容を確認

**期待結果**:
- ✅ Twitter/Xの共有画面が開く
- ✅ 適切なハッシュタグが含まれる
- ✅ 達成内容が含まれる

### 3.6 設定機能テスト

#### 3.6.1 プロフィール設定テスト
**手順**:
1. 「設定」タブをクリック
2. 誕生日を設定
3. 「保存」ボタンをクリック

**期待結果**:
- ✅ 誕生日が保存される
- ✅ 更新日時が記録される
- ✅ 成功メッセージが表示される

#### 3.6.2 テーマ切り替えテスト
**手順**:
1. 設定画面でテーマ切り替えボタンをクリック
2. ライトモード/ダークモードの切り替え確認

**期待結果**:
- ✅ テーマが即座に切り替わる
- ✅ 全ての画面要素の色が変更される
- ✅ 設定がブラウザに保存される（リロード後も維持）

**テストケース**:
- [ ] ライトモード → ダークモード
- [ ] ダークモード → ライトモード
- [ ] ページリロード後のテーマ維持
- [ ] 新しいタブでのテーマ適用

#### 3.6.3 メッセージセット選択テスト
**手順**:
1. 設定画面でメッセージセット選択を確認
2. 異なるセットを選択
3. Do達成時のメッセージ変化を確認

**期待結果**:
- ✅ メッセージセットが変更される
- ✅ 祝福メッセージが選択したセットから表示される

### 3.7 UI/UXテスト

#### 3.7.1 マウスカーソル・ホバーエフェクトテスト
**手順**:
1. 星マークにマウスホバーして カーソルが指マークに変わることを確認
2. メニュー項目にマウスホバーしてエフェクトを確認
3. ボタン類のホバーエフェクトを確認

**期待結果**:
- ✅ 星マークホバー時にpointerカーソル表示
- ✅ メニューホバー時に背景色変化とスケールエフェクト
- ✅ 全てのクリック可能要素でpointerカーソル表示

**テストケース**:
- [ ] 達成記録の星マークホバー
- [ ] サイドメニュー項目ホバー
- [ ] ボタン類のホバーエフェクト

#### 3.7.2 日付選択状態保持テスト
**手順**:
1. カレンダーで過去の日付を選択
2. Doを達成してお祝いモーダルを表示
3. モーダルを閉じた後の日付選択状態を確認

**期待結果**:
- ✅ お祝いモーダル後も選択日付が保持される
- ✅ 今日の日付に戻らない
- ✅ 達成記録が正しく表示される

#### 3.7.3 レスポンシブデザインテスト
**テストデバイス**: iPhone, Android, iPad
**手順**:
1. モバイルデバイスでアプリにアクセス
2. 全機能の動作確認

**期待結果**:
- ✅ サイドバーが折りたたみ式で表示される
- ✅ ハンバーガーメニューに適切な背景色が表示される
- ✅ カレンダーがモバイル画面に適応される
- ✅ ボタンがタッチ操作に適したサイズである
- ✅ 全ての機能が正常に動作する

**テストケース**:
- [ ] 縦向き表示
- [ ] 横向き表示
- [ ] タッチ操作の確認
- [ ] スクロール動作の確認
- [ ] ハンバーガーメニューの背景色確認

## 4. パフォーマンステスト

### 4.1 読み込み速度テスト
**手順**:
1. ブラウザのデベロッパーツールでネットワークタブを開く
2. アプリにアクセス
3. 読み込み時間を測定

**期待結果**:
- ✅ 初回読み込み: 3秒以内
- ✅ 後続ページ遷移: 1秒以内
- ✅ APIレスポンス: 500ms以内

### 4.2 データ操作速度テスト
**手順**:
1. Do作成・編集・削除の実行時間を測定
2. 達成記録操作の実行時間を測定

**期待結果**:
- ✅ CRUD操作: 1秒以内
- ✅ 達成記録操作: 500ms以内

## 5. セキュリティテスト

### 5.1 認証セキュリティテスト
**手順**:
1. ログアウト状態で直接URLアクセスを試行
2. 他ユーザーのデータアクセスを試行

**期待結果**:
- ✅ 未認証でのデータアクセスが拒否される
- ✅ 他ユーザーのデータが見えない
- ✅ 適切にログイン画面にリダイレクトされる

### 5.2 データ改ざんテスト
**手順**:
1. ブラウザのデベロッパーツールでAPIリクエストを改ざん
2. 他ユーザーのIDでリクエスト送信を試行

**期待結果**:
- ✅ 改ざんされたリクエストが拒否される
- ✅ 適切なエラーメッセージが返される

## 6. エラーハンドリングテスト

### 6.1 ネットワークエラーテスト
**手順**:
1. ネットワークを切断
2. Do作成・達成記録などを試行

**期待結果**:
- ✅ 適切なエラーメッセージが表示される
- ✅ アプリがクラッシュしない
- ✅ ネットワーク復旧後に正常動作する

### 6.2 サーバーエラーテスト
**手順**:
1. 無効なデータでAPIリクエストを送信
2. サーバーエラーの発生を確認

**期待結果**:
- ✅ ユーザーフレンドリーなエラーメッセージが表示される
- ✅ アプリの状態が保持される

## 7. ブラウザ互換性テスト

### 7.1 対応ブラウザ
- **Chrome** (最新版)
- **Firefox** (最新版)
- **Safari** (最新版)
- **Edge** (最新版)
- **モバイルブラウザ** (iOS Safari, Chrome Mobile)

### 7.2 テスト項目
各ブラウザで以下を確認：
- [ ] 正常な表示
- [ ] 全機能の動作
- [ ] アニメーション効果
- [ ] フォント表示
- [ ] カラー表示

## 8. β版テスター向けテストシナリオ

### 8.1 新規ユーザーシナリオ
**想定**: 初めてアプリを使用するユーザー
**手順**:
1. アカウント作成
2. 3つのDoを設定
3. 1週間継続して使用
4. 各機能を一通り試す

### 8.2 継続ユーザーシナリオ
**想定**: 継続的に使用するユーザー
**手順**:
1. 毎日のDo達成記録
2. 月単位での振り返り
3. 設定変更の試行
4. 長期使用での不具合確認

## 9. テスト結果記録フォーマット

### 9.1 テスト実施記録
```
テスト日時: YYYY/MM/DD HH:MM
テスター名: [名前]
デバイス/ブラウザ: [環境情報]
テスト項目: [項目名]
結果: ✅ 成功 / ❌ 失敗 / ⚠️ 条件付き成功
詳細: [詳細情報・メモ]
```

### 9.2 不具合報告フォーマット
```
発見日時: YYYY/MM/DD HH:MM
不具合ID: BUG-001
重要度: 高/中/低
概要: [不具合の概要]
再現手順: [詳細な再現手順]
期待結果: [期待していた動作]
実際の結果: [実際に起こった動作]
環境: [ブラウザ・デバイス情報]
スクリーンショット: [あれば添付]
```

## 10. テスト完了基準

### 10.1 必須基準
- ✅ 全ての基本機能が正常動作
- ✅ セキュリティテストをクリア
- ✅ 主要ブラウザでの動作確認
- ✅ モバイル対応の確認
- ✅ 重大な不具合ゼロ

### 10.2 β版リリース判定
以下の条件を満たした場合にβ版リリース可能：
- ✅ 必須基準をすべてクリア
- ✅ 軽微な不具合は10件以下
- ✅ ユーザビリティ上の問題なし
- ✅ パフォーマンス基準をクリア

---

**文書バージョン**: 1.1  
**最終更新日**: 2025年6月16日  
**作成者**: Claude Code Assistant

## 更新履歴

### v1.1 (2025年6月16日)
- セッション管理テストを追加
- ランダム確認モーダルテストを追加
- UI/UXテスト（マウスカーソル・ホバーエフェクト）を追加
- 日付選択状態保持テストを追加
- ハンバーガーメニュー背景色テストを追加

### v1.2 (2025年6月17日)
- 達成記録削除機能テストを追加（確認ダイアログ付き）
- 達成メモ機能テストを追加（入力・保存・表示・文字数制限）
- 祝福モーダルにメモ入力欄表示テストを追加
- カレンダー下Doリストでのメモ表示テストを追加
- 基本機能チェックリストにメモ関連項目を追加

## 11. 付録: テストチェックリスト

### 11.1 基本機能チェックリスト
- [ ] ユーザー登録
- [ ] ログイン・ログアウト
- [ ] セッション管理・自動ログアウト
- [ ] Do作成（1つ）
- [ ] Do作成（3つまで）
- [ ] Do編集
- [ ] Do削除
- [ ] カレンダー表示
- [ ] 日付選択
- [ ] 達成記録（直接）
- [ ] 達成記録（確認モーダル経由）
- [ ] 確認モーダルキャンセル
- [ ] 達成記録削除（確認ダイアログ付き）
- [ ] 達成記録削除キャンセル
- [ ] 達成メモ入力・保存
- [ ] メモなしでの達成記録保存
- [ ] カレンダー下Doリストでのメモ表示
- [ ] 祝福モーダル表示
- [ ] SNS共有
- [ ] テーマ切り替え
- [ ] プロフィール設定
- [ ] 日付選択状態保持

### 11.2 視覚効果チェックリスト
- [ ] 星マークアニメーション
- [ ] 祝福モーダルアニメーション
- [ ] カラーテーマ適用
- [ ] ホバー効果（色変化・スケール）
- [ ] マウスカーソル変化（pointer）
- [ ] メニューホバーエフェクト
- [ ] ローディング表示

### 11.3 エラーケースチェックリスト
- [ ] ネットワークエラー
- [ ] 認証エラー
- [ ] バリデーションエラー
- [ ] サーバーエラー
- [ ] 制限エラー（3つ制限）